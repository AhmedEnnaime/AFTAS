<div class="flex flex-col items-center">
    <div class="w-full md:w-1/2 flex flex-col items-center h-64">
      <div class="w-full px-4">
        <div (click)="toggle()" class="flex flex-col items-center relative">
          <div class="w-full">
            <div (click.away)="close()" class="my-2 p-1 bg-white flex border border-gray-200 rounded">
              <input
                [(ngModel)]="filter"
                (mousedown)="open()"
                (keydown.enter.stop.prevent)="selectOption()"
                (keydown.arrow-up.prevent)="focusPrevOption()"
                (keydown.arrow-down.prevent)="focusNextOption()"
                class="p-1 px-2 appearance-none outline-none w-full text-gray-800"
              />
              <div class="text-gray-300 w-8 py-1 pl-2 pr-1 border-l flex items-center border-gray-200">
                <button (click)="toggle()" class="cursor-pointer w-6 h-6 text-gray-600 outline-none focus:outline-none">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline *ngIf="!isOpen()" points="18 15 12 20 6 15"></polyline>
                    <polyline *ngIf="isOpen()" points="18 15 12 9 6 15"></polyline>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div *ngIf="isOpen()" class="absolute shadow bg-white top-100 z-40 w-full lef-0 rounded max-h-select overflow-y-auto">
            <div class="flex flex-col w-full">
              <div *ngFor="let option of filteredOptions(); let index = index" (click)="onOptionClick(index)"  [attr.aria-selected]="focusedOptionIndex === index">
                <div class="flex w-full items-center p-2 pl-2 border-transparent border-l-2 relative hover:border-teal-100">
                  <div class="w-full items-center flex">
                    <span>{{ option.name }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>